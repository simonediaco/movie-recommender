{% extends "base.html" %}

{% block title %}Home - Movie Recommender{% endblock %}

{% block content %}
<h1 class="mt-5">Movie Recommender</h1>
<form action="/recommend" method="post" class="mt-4 needs-validation" novalidate>
    <div class="form-group">
        <label for="genre">Genre:</label>
        <input type="text" class="form-control" id="genre" name="genre" placeholder="e.g., Action, Comedy" required>
        <div class="invalid-feedback">
            Please enter a genre.
        </div>
    </div>
    <div class="form-group">
        <label for="duration">Duration (minutes):</label>
        <input type="number" class="form-control" id="duration" name="duration" min="1" max="300" placeholder="e.g., 120" required>
        <div class="invalid-feedback">
            Please enter a valid duration between 1 and 300 minutes.
        </div>
    </div>
    <div class="form-group">
        <label for="rating">Rating:</label>
        <input type="number" step="0.1" class="form-control" id="rating" name="rating" min="0" max="10" placeholder="e.g., 7.0" required>
        <div class="invalid-feedback">
            Please enter a valid rating between 0 and 10.
        </div>
    </div>
    <div class="form-group">
        <label for="release_year">Release Year:</label>
        <input type="number" class="form-control" id="release_year" name="release_year" min="1900" max="2022" placeholder="e.g., 1995">
        <div class="invalid-feedback">
            Please enter a valid year between 1900 and 2022.
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Get Recommendations</button>
</form>

<script>
// Bootstrap form validation
(function() {
    'use strict';
    window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    }, false);
})();
</script>
{% endblock %}
